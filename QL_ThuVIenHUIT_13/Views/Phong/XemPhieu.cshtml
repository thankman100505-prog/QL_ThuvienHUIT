@model QL_ThuVIenHUIT_13.Models.PHIEU_MUONPHONG
@using QL_ThuVIenHUIT_13.Models

@{
    ViewBag.Title = "Đặt phòng họp";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var dsPhong = ViewBag.DsPhong as List<PHONGHOP>;
}

<div class="container mt-5 mb-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow-lg border-0">
                <div class="card-header bg-primary text-white text-center py-3">
                    <h4 class="mb-0 text-uppercase">Đăng ký đặt phòng họp</h4>
                </div>

                <div class="card-body p-4">
                    @using (Html.BeginForm("DatPhong", "Phong", FormMethod.Post))
                    {
                        @Html.AntiForgeryToken()
                        @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                        <div class="row">
                            <div class="col-md-6 form-group mb-3">
                                <label class="fw-bold">Mã thẻ thư viện</label>
                                @Html.TextBoxFor(m => m.MATHE, new { @class = "form-control", placeholder = "Nhập mã thẻ", required = "required" })
                            </div>

                            <div class="col-md-6 form-group mb-3">
                                <label class="fw-bold">Chọn phòng</label>
                                <select name="MAPHONG" class="form-control" required>
                                    <option value="">-- Chọn phòng --</option>
                                    @if (dsPhong != null)
                                    {
                                        foreach (var p in dsPhong)
                                        {
                                            <option value="@p.MAPHONG">@p.TENPHONG (@p.MAPHONG)</option>
                                        }
                                    }
                                </select>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4 form-group mb-3">
                                <label class="fw-bold">Ngày mượn</label>
                                @Html.TextBoxFor(m => m.NGAYMUON, "{0:yyyy-MM-dd}", new { @class = "form-control", type = "date", required = "required" })
                            </div>

                            <div class="col-md-4 form-group mb-3">
                                <label class="fw-bold">Giờ mượn</label>
                                @Html.TextBoxFor(m => m.GIOMUON, new { @class = "form-control", type = "time", required = "required" })
                            </div>

                            <div class="col-md-4 form-group mb-3">
                                <label class="fw-bold">Giờ trả</label>
                                @Html.TextBoxFor(m => m.GIOTRA, new { @class = "form-control", type = "time", required = "required" })
                            </div>
                        </div>

                        <div class="form-group mb-3">
                            <label class="fw-bold">Số người tham gia</label>
                            @Html.TextBoxFor(m => m.SL_NGUOITHAMGIA, new { @class = "form-control", type = "number", min = "1", placeholder = "Ví dụ: 10", required = "required" })
                        </div>

                        <div class="form-group mb-4">
                            <label class="fw-bold">Mục đích sử dụng</label>
                            @Html.TextAreaFor(m => m.MUCDICH, new { @class = "form-control", rows = "3", placeholder = "Ghi rõ lý do mượn phòng...", required = "required" })
                        </div>

                        <hr />

                        <div class="d-flex justify-content-between">
                            <a href="@Url.Action("Index", "Phong")" class="btn btn-outline-secondary px-4">
                                <i class="fas fa-arrow-left"></i> Quay lại
                            </a>
                            <button type="submit" class="btn btn-primary px-5 fw-bold">
                                <i class="fas fa-check-circle"></i> Xác nhận đặt phòng
                            </button>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>