@model QL_ThuVIenHUIT_13.Models.UserProfileVM

@{
    ViewBag.Title = "Cập nhật thông tin";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow-sm border-0" style="border-radius: 15px;">
                <div class="card-header text-white text-center fw-bold" style="background-color: #0e56a0; border-radius: 15px 15px 0 0; padding: 15px;">
                    <h4>CẬP NHẬT THÔNG TIN</h4>
                </div>

                <div class="card-body p-4">
                    @using (Html.BeginForm("EditProfileSubmit", "User", FormMethod.Post))
                    {
                        @Html.AntiForgeryToken()

                        if (ViewBag.Error != null)
                        {
                            <div class="alert alert-danger text-center">@ViewBag.Error</div>
                        }

                        <div class="bg-light p-3 rounded mb-4 border">
                            <h6 class="text-muted fw-bold mb-3"><i class="bi bi-lock-fill"></i> Thông tin cố định</h6>
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label class="form-label small text-muted">Mã số</label>
                                    <input type="text" class="form-control" value="@Model.MaSo" disabled readonly />
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label small text-muted">Vai trò</label>
                                    <input type="text" class="form-control" value="@Model.RoleName" disabled readonly />
                                </div>
                                @if (!string.IsNullOrEmpty(Model.Khoa))
                                {
                                    <div class="col-md-6">
                                        <label class="form-label small text-muted">Khoa</label>
                                        <input type="text" class="form-control" value="@Model.Khoa" disabled readonly />
                                    </div>
                                }
                                @if (!string.IsNullOrEmpty(Model.Lop))
                                {
                                    <div class="col-md-6">
                                        <label class="form-label small text-muted">Lớp</label>
                                        <input type="text" class="form-control" value="@Model.Lop" disabled readonly />
                                    </div>
                                }
                            </div>
                        </div>

                        <h6 class="text-primary fw-bold mb-3"><i class="bi bi-pencil-square"></i> Thông tin liên hệ</h6>

                        <div class="mb-3">
                            <label class="form-label fw-bold">Họ và tên</label>
                            @Html.TextBoxFor(m => m.HoTen, new { @class = "form-control", required = "required" })
                        </div>

                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label class="form-label fw-bold">Số điện thoại</label>
                                @Html.TextBoxFor(m => m.SDT, new { @class = "form-control", required = "required", type = "tel", pattern = "0[0-9]{9}" })
                            </div>
                            <div class="col-md-6">
                                <label class="form-label fw-bold">Email</label>
                                @Html.TextBoxFor(m => m.Email, new { @class = "form-control", required = "required", type = "email" })
                            </div>
                        </div>

                        <div class="mb-4">
                            <label class="form-label fw-bold">Địa chỉ</label>
                            @Html.TextBoxFor(m => m.DiaChi, new { @class = "form-control", required = "required" })
                        </div>

                        <div class="d-flex justify-content-center gap-2">
                            <button type="submit" class="btn btn-primary px-4" style="background-color: #0e56a0; border-radius: 25px;">
                                <i class="bi bi-save"></i> Lưu thay đổi
                            </button>
                            <a href="@Url.Action("ProfileUser", "User")" class="btn btn-light px-4" style="border-radius: 25px;">
                                Hủy bỏ
                            </a>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>